autoware_system_design_format: v0.2.0
name: MissionPlanner.node
package:
  name: autoware_mission_planner
  provider: autoware
launch:
  plugin: autoware::mission_planner::MissionPlanner
  executable: mission_planner
inputs:
  - name: odometry
    message_type: nav_msgs/msg/Odometry
    remap_target: ~/input/odometry
  - name: operation_mode_state
    message_type: autoware_adapi_v1_msgs/msg/OperationModeState
    remap_target: ~/input/operation_mode_state
  - name: vector_map
    message_type: autoware_map_msgs/msg/LaneletMapBin
    remap_target: ~/input/vector_map
  - name: modified_goal
    message_type: autoware_planning_msgs/msg/PoseWithUuidStamped
    remap_target: ~/input/modified_goal
outputs:
  - name: state
    message_type: autoware_planning_msgs/msg/RouteState
    remap_target: ~/state
  - name: route
    message_type: autoware_planning_msgs/msg/LaneletRoute
    remap_target: ~/route
  - name: debug/route_marker
    message_type: visualization_msgs/msg/MarkerArray
    remap_target: ~/debug/route_marker
  - name: debug/processing_time_ms
    message_type: autoware_internal_debug_msgs/msg/Float64Stamped
    remap_target: ~/debug/processing_time_ms
parameters:
  - name: map_frame
    type: string
    default: map
  - name: reroute_time_threshold
    type: double
    default: 10.0
  - name: minimum_reroute_length
    type: double
    default: 100.0
  - name: allow_reroute_in_autonomous_mode
    type: bool
    default: false
processes:
  - name: on_odometry
    trigger_conditions:
      - on_input: odometry
    outcomes:
      - to_output: state
  - name: on_map
    trigger_conditions:
      - on_input: vector_map
    outcomes:
      - terminal: null
